{% extends "base.html" %}

{% block content %}
<main role="main">
    <br><br>
    <div class="container">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <h4><b>{{ item.title }}</b>
                    <small class="float-right">Asked on <i>{{ item.created.strftime('%d-%m-%Y %H:%M:%S') }}</i> by
                        <b>{{ item.user.username }}</b><b>
                        </b></small></h4>
                <hr>
                <p class="mb-1">{{ item.content }}</p><br>
                {% for tag in item.tags %}
                <a href="{{ url_for('tags', tag=tag.name) }}" class="btn btn-xs btn-primary">{{ tag.name }}</a>
                {% endfor %}
                <hr>
                {% if request.user.is_authenticated %}
                <form id="answerForm" class="form form-answer" method="POST" action="" role="form">
                    {{ form.csrf_token }}
                    <div class="form-group">
                        {{form.content(placeholder="Content", cols="35", rows="10",class_="form-control") |safe}}
                        {% for error in form.content.errors %}
                        <span style="color: red;">*{{ error }}</span>
                        {% endfor %}
                    </div>
                    <p><input class="btn btn-primary" type="submit" value="Submit"></p>
                </form>
                {% else %}
                <h3 class="float-left">{{ answer_count }} answers</h3>
                <a href="{{ url_for('login') }}?next={{ path }}" class="btn btn-primary float-right">Post answer</a>
                <br><br>
                {% endif %}
                <hr>
                {% for item in answer_results %}
                <h4><small class="float-left">Answered on <i>{{ item.created.strftime('%d-%m-%Y %H:%M:%S') }}</i> by
                        <b>{{ item.ans_user.username }}</b><b>
                        </b></small></h4>
                <br><br>
                <p>{{ item.content }}</p>
                <hr>
                {% endfor %}




            </div>
        </div>
    </div>
    <hr>
    </div> <!-- /container -->
</main>
{% endblock %}